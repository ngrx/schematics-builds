{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../../modules/schematics/src/ng-add/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,yDAAsF;AACtF,yDAAqE;AAIrE,SAAS,kBAAkB,CAAC,IAAU,EAAE,KAAU;IAChD,IAAM,SAAS,GAAG,IAAA,8BAAY,EAAC,IAAI,CAAC,CAAC;IACrC,IAAM,IAAI,GAAG,IAAA,kCAAgB,EAAC,IAAI,CAAC,CAAC;IAEpC,SAAS,CAAC,KAAK,CAAC,yBACX,SAAS,CAAC,KAAK,CAAC,GAChB,KAAK,CACT,CAAC;IAEF,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;AAC3D,CAAC;AAED,SAAS,sBAAsB;IAC7B,IAAM,GAAG,GAAG;QACV,iBAAiB,EAAE,kBAAkB;KACtC,CAAC;IACF,OAAO,UAAC,IAAU;QAChB,kBAAkB,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;QAC9B,OAAO,IAAI,CAAC;IACd,CAAC,CAAC;AACJ,CAAC;AAED,mBAAyB,OAAyB;IAChD,OAAO,UAAC,IAAU,EAAE,OAAyB;QAC3C,OAAO,IAAA,kBAAK,EAAC;YACX,OAAO,IAAI,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC,sBAAsB,EAAE,CAAC,CAAC,CAAC,IAAA,iBAAI,GAAE;SACzE,CAAC,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IACpB,CAAC,CAAC;AACJ,CAAC;AAND,+BAMC","sourcesContent":["import {chain, noop, Rule, SchematicContext, Tree,} from '@angular-devkit/schematics';\nimport {getWorkspace, getWorkspacePath} from '../../schematics-core';\n\nimport {Schema as SchematicOptions} from './schema';\n\nfunction updateWorkspaceCli(host: Tree, value: any) {\n  const workspace = getWorkspace(host);\n  const path = getWorkspacePath(host);\n\n  workspace['cli'] = {\n    ...workspace['cli'],\n    ...value\n  };\n\n  host.overwrite(path, JSON.stringify(workspace, null, 2));\n}\n\nfunction setAsDefaultSchematics() {\n  const cli = {\n    defaultCollection: '@ngrx/schematics',\n  };\n  return (host: Tree) => {\n    updateWorkspaceCli(host, cli);\n    return host;\n  };\n}\n\nexport default function (options: SchematicOptions): Rule {\n  return (host: Tree, context: SchematicContext) => {\n    return chain([\n      options && options.defaultCollection ? setAsDefaultSchematics() : noop(),\n    ])(host, context);\n  };\n}\n"]}